{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap eb4ae346ee202d3c6e06","webpack:///./src/index.js","webpack:///./src/utils/http.js","webpack:///./src/utils/request.js"],"names":["DataSourceConnector","Handsontable","plugins","BasePlugin","constructor","hotInstance","http","colHeaders","filters","order","isEnabled","enabled","hot","getSettings","dataSourceConnector","controllerUrl","onDataSend","addListener","enablePlugin","addHook","onAfterInit","changes","source","onAfterChange","column","onAfterColumnSort","index","amount","onAfterCreateRow","onAfterCreateCol","columns","target","onAfterColumnMove","conditionsStack","onAfterFilter","onAfterRemoveCol","conditions","getPlugin","conditionCollection","exportAllConditions","forEach","item","uri","post","then","response","_loadData","_move","array","from","to","increment","k","columnNames","i","length","push","colMoved","payload","sourceIndex","value","noOfRows","getData","row","setCellMeta","getCellMeta","row_id","name","removedCol","data","col","col_id","id","setDataAtCell","undefined","responseData","normalizedData","columnName","loadData","rowId","get","updateSettings","disablePlugin","updatePlugin","changeItems","cellMeta","oldValue","newValue","meta","instance","destroy","registerPlugin","Http","listeners","callback","args","listener","url","request","method","body","JSON","stringify","parse","obj","Promise","resolve","reject","xhr","XMLHttpRequest","open","headers","Object","keys","key","setRequestHeader","onload","status","statusText","onerror","send","Request"],"mappings":"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","file":"datasource-connector.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"DatasourceConector\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"DatasourceConector\"] = factory();\n\telse\n\t\troot[\"DatasourceConector\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap eb4ae346ee202d3c6e06","import Http from './utils/http';\r\n\r\n/**\r\n * @plugin DataSourceConnector\r\n * Note: keep in mind, that Handsontable instance creates one instance of the plugin class.\r\n *\r\n * @description\r\n * This plugin enable the backend side data management for handsontable instance\r\n */\r\nclass DataSourceConnector extends Handsontable.plugins.BasePlugin {\r\n\r\n  // The argument passed to the constructor is the currently processed Handsontable instance object.\r\n  constructor(hotInstance) {\r\n    super(hotInstance);\r\n    this.http = {};\r\n    this.colHeaders = [];\r\n    this.filters = [];\r\n    this.order = {};\r\n  }\r\n\r\n  /**\r\n   * Checks if the plugin is enabled in the settings.\r\n   */\r\n  isEnabled() {\r\n    let enabled = !!this.hot.getSettings().dataSourceConnector;\r\n    if (enabled) {\r\n      let controllerUrl = this.hot.getSettings().dataSourceConnector.controllerUrl;\r\n      let onDataSend = this.hot.getSettings().dataSourceConnector.onDataSend;\r\n      this.http = new Http(controllerUrl);\r\n      this.http.addListener(onDataSend);\r\n    }\r\n    return enabled;\r\n  }\r\n\r\n  /**\r\n   * The enablePlugin method is triggered on the beforeInit hook. It should contain your initial plugin setup, along with\r\n   * the hook connections.\r\n   * Note, that this method is run only if the statement in the isEnabled method is true.\r\n   */\r\n  enablePlugin() {\r\n    // disable build in sort and filter functions\r\n    this.addHook('beforeColumnSort', () => false);\r\n    this.addHook('beforeFilter', () => false);\r\n    // this.addHook('beforeRemoveCol', () => false);\r\n\r\n    this.addHook('afterInit', () => this.onAfterInit());\r\n    this.addHook('afterChange', (changes, source) => this.onAfterChange(changes, source));\r\n    this.addHook('afterColumnSort', (column, order) => this.onAfterColumnSort(column, order));\r\n\r\n    this.addHook('afterCreateRow', (index, amount, source) => this.onAfterCreateRow(index, amount, source));\r\n    this.addHook('afterCreateCol', (index, amount, source) => this.onAfterCreateCol(index, amount, source));\r\n    this.addHook('afterColumnMove', (columns, target) => this.onAfterColumnMove(columns, target));\r\n    this.addHook('afterFilter', (conditionsStack) => this.onAfterFilter(conditionsStack));\r\n\r\n    this.addHook('afterRemoveCol', (index, amount) => this.onAfterRemoveCol(index, amount));\r\n    // The super method assigns the this.enabled property to true, which can be later used to check if plugin is already enabled.\r\n    super.enablePlugin();\r\n  }\r\n  /**\r\n   * The onAfterFilter method is called after filtering.\r\n   *\r\n   * @param {array} conditionsStack\r\n   */\r\n  onAfterFilter(conditionsStack) {\r\n    var conditions = hot.getPlugin('filters').conditionCollection.exportAllConditions();\r\n    conditions.forEach((item, index) => {\r\n      conditions[index].column = this.colHeaders[conditionsStack[index].column];\r\n    });\r\n\r\n    this.filters = conditions;\r\n    let uri = { order: this.order, filters: this.filters};\r\n    this.http.post('/data', uri).then((response) => {\r\n      this._loadData(response);\r\n    });\r\n  }\r\n\r\n  // move element in array from position to target\r\n  _move(array, from, to) {\r\n    if (to === from) {\r\n      return array;\r\n    }\r\n\r\n    var target = array[from];\r\n    var increment = to < from ? -1 : 1;\r\n\r\n    for (var k = from; k !== to; k += increment) {\r\n      array[k] = array[k + increment];\r\n    }\r\n    array[to] = target;\r\n    return array;\r\n  }\r\n\r\n  /**\r\n   * The onAfterColumnMove method is called after moving column.\r\n   *\r\n   * @param {array} columns\r\n   * @param {number} target\r\n   */\r\n  onAfterColumnMove(columns, target) {\r\n    var columnNames = [];\r\n    var i = 0;\r\n    for (i = 0; i < columns.length; i++) {\r\n      columnNames.push(this.colHeaders[columns[i]]);\r\n    }\r\n\r\n    var colMoved = {\r\n      columnNames,\r\n      target\r\n    };\r\n\r\n    this.http.post('/move/column', colMoved);\r\n  }\r\n\r\n  /**\r\n   * The onAfterCreateCol method is called after creating new column.\r\n   *\r\n   * @param {number} index\r\n   * @param {number} amount\r\n   * @param {string} source\r\n   */\r\n  onAfterCreateCol(index, amount, source) {\r\n    var payload = {\r\n      index,\r\n      amount,\r\n      source\r\n    };\r\n    var sourceIndex = index === 0 ? 1 : 0;\r\n    this.http.post('/create/column', payload)\r\n      .then((value) => {\r\n        var noOfRows = this.hot.getData().length;\r\n        for (var row = 0; row < noOfRows; row++) {\r\n          this.hot.setCellMeta(row, index, 'row_id', this.hot.getCellMeta(row, sourceIndex).row_id);\r\n          this.hot.setCellMeta(row, index, 'col_id', value.name);\r\n        }\r\n      });\r\n  }\r\n  /**\r\n   * The onAfterRemoveCol method is called after removing column.\r\n   *\r\n   * @param {number} index\r\n   * @param {number} amount\r\n   * */\r\n  onAfterRemoveCol(index, amount) {\r\n    var removedCol = [];\r\n    for (var i = 0; i < amount; i++) {\r\n      removedCol.push(this.colHeaders[i + index]);\r\n    }\r\n    this.http.post('/remove/column', removedCol)\r\n      .then((value) => {\r\n        if (value.data) {\r\n          this.http.post('/data')\r\n            .then((response) => {\r\n              this._loadData(response);\r\n            });\r\n        }\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Method called after creating new row.\r\n   *\r\n   * @param {number} index\r\n   * @param {number} amount\r\n   * @param {string} source\r\n   */\r\n  onAfterCreateRow(index, amount, source) {\r\n    var payload = {\r\n      index,\r\n      amount,\r\n      source\r\n    };\r\n    this.http.post('/create/row', payload)\r\n      .then((value) => {\r\n        var row = this.hot.getData()[index];\r\n        var sourceIndex = index === 1 ? 2 : 1;\r\n        for (var col = 0; col < row.length; col++) {\r\n          var column = this.hot.getCellMeta(sourceIndex, col).col_id;\r\n          this.hot.setCellMeta(index, col, 'row_id', value.id);\r\n          this.hot.setCellMeta(index, col, 'col_id', column);\r\n          this.hot.setDataAtCell(index, col, value.data[column]);\r\n        }\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Method called after sorting column, event will be passed to backend.\r\n   *\r\n   * @param {number} column\r\n   * @param {boolean} order\r\n   */\r\n  onAfterColumnSort(column, order) {\r\n    this.order = order !== undefined ? { column: this.colHeaders[column], order: order === true ? 'ASC' : 'DESC' } : {};\r\n\r\n    let uri = { order: this.order, filters: this.filters};\r\n    this.http.post('/data', uri)\r\n      .then((response) => {\r\n        this._loadData(response);\r\n      });\r\n  }\r\n\r\n  /**\r\n   * Load data and setup all dedicated metadata for backend sync\r\n   * @param {object} response\r\n   */\r\n  _loadData(response) {\r\n    let responseData = response.data;\r\n    let normalizedData = [];\r\n    for (let row = 0; row < responseData.length; row++) {\r\n      let item = [];\r\n      // eslint-disable-next-line guard-for-in\r\n      for (let columnName in responseData[row]) {\r\n        item.push(responseData[row][columnName]);\r\n      }\r\n      normalizedData.push(item);\r\n    }\r\n\r\n    this.hot.loadData(normalizedData);\r\n\r\n    let columnNames = [];\r\n\r\n    // eslint-disable-next-line guard-for-in\r\n    for (let columnName in responseData[0]) {\r\n      columnNames.push(columnName);\r\n    }\r\n\r\n    this.colHeaders = columnNames;\r\n\r\n    for (let row = 0; row < responseData.length; row++) {\r\n      for (let column = 0; column < columnNames.length; column++) {\r\n        this.hot.setCellMeta(row, column, 'row_id', responseData[row][response.rowId]);\r\n        this.hot.setCellMeta(row, column, 'col_id', columnNames[column]);\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Method called after Handsontable instance initiation\r\n   */\r\n  onAfterInit() {\r\n    this.http.get('/settings')\r\n      .then((response) => {\r\n        this.hot.updateSettings(response.data);\r\n      });\r\n    this.http.post('/data')\r\n      .then((response) => {\r\n        this._loadData(response);\r\n      });\r\n  }\r\n\r\n  /**\r\n   * The disablePlugin method is used to disable the plugin. Reset all of your classes properties to their default values here.\r\n   */\r\n  disablePlugin() {\r\n    // The super method takes care of clearing the hook connections and assigning the 'false' value to the 'this.enabled' property.\r\n    super.disablePlugin();\r\n  }\r\n\r\n  /**\r\n   * The updatePlugin method is called on the afterUpdateSettings hook (unless the updateSettings method turned the plugin off).\r\n   * It should contain all the stuff your plugin needs to do to work properly after the Handsontable instance settings were modified.\r\n   */\r\n  updatePlugin() {\r\n\r\n    // The updatePlugin method needs to contain all the code needed to properly re-enable the plugin. In most cases simply disabling and enabling the plugin should do the trick.\r\n    this.disablePlugin();\r\n    this.enablePlugin();\r\n\r\n    super.updatePlugin();\r\n  }\r\n\r\n  /**\r\n   * The afterChange hook callback.\r\n   *\r\n   * @param {Array} changes Array of changes.\r\n   * @param {String} source Describes the source of the change.\r\n   */\r\n  onAfterChange(changes, source) {\r\n    if (changes) {\r\n      let changeItems = [];\r\n      for (let i = 0; i < changes.length; i++) {\r\n        let cellMeta = this.hot.getCellMeta(changes[i][0], changes[i][1]);\r\n        let item = {\r\n          row: cellMeta.row_id,\r\n          column: cellMeta.col_id,\r\n          oldValue: changes[i][2],\r\n          newValue: changes[i][3],\r\n          meta: cellMeta\r\n        };\r\n        delete item.meta.instance;\r\n        changeItems.push(item);\r\n      }\r\n      this.http.post('/update', {\r\n        changes: changeItems,\r\n        source\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * The destroy method should de-assign all of your properties.\r\n   */\r\n  destroy() {\r\n    // The super method takes care of de-assigning the event callbacks, plugin hooks and clearing all the plugin properties.\r\n    super.destroy();\r\n  }\r\n}\r\n\r\nexport default DataSourceConnector;\r\n\r\n// register plugin\r\nHandsontable.plugins.registerPlugin('DataSourceConnector', DataSourceConnector);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import Request from './request';\r\n\r\n/**\r\n * Send the xhr request to server\r\n *\r\n * @param {Request} obj Request object\r\n * @returns {Promise}\r\n */\r\nexport default class Http {\r\n\r\n  constructor(controllerUrl) {\r\n    this.controllerUrl = controllerUrl;\r\n    this.listeners = [];\r\n  }\r\n\r\n  /**\r\n     * make a callback function that listen for HTTP events\r\n     *\r\n     * @param {function} callback\r\n     */\r\n  addListener(callback) {\r\n    if (typeof callback === 'function' || false) {\r\n      this.listeners.push(callback);\r\n    }\r\n  }\r\n\r\n  /**\r\n     * this method emit the onDataSend event to listeners\r\n     *\r\n     * @param {any} args\r\n     */\r\n  onDataSend(...args) {\r\n    if (this.listeners && this.listeners.length) {\r\n      this.listeners.forEach((listener) => {\r\n        listener(...args);\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n     * make HTTP POST to url with payload data\r\n     *\r\n     * @param {string} url\r\n     * @param {any} data\r\n     */\r\n  post(url, data) {\r\n\r\n    let request = new Request();\r\n    request.url = this.controllerUrl + url;\r\n    request.method = 'POST';\r\n    request.body = JSON.stringify(data);\r\n\r\n    return this.request(request).then(\r\n      (value) => {\r\n        this.onDataSend({ request, response: JSON.parse(value) });\r\n        return JSON.parse(value);\r\n      }\r\n    );\r\n  }\r\n\r\n  /**\r\n     * make HTTP GET call on url\r\n     *\r\n     * @param {string} url\r\n     */\r\n  get(url) {\r\n    var request = new Request();\r\n    request.url = this.controllerUrl + url;\r\n\r\n    return this.request(request).then(\r\n      (value) => {\r\n        this.onDataSend({ request, response: JSON.parse(value) });\r\n        return JSON.parse(value);\r\n      }\r\n    );\r\n  }\r\n\r\n  /**\r\n    *\r\n    * @param {object} obj\r\n    */\r\n  request(obj) {\r\n    return new Promise((resolve, reject) => {\r\n      let xhr = new XMLHttpRequest();\r\n      xhr.open(obj.method || 'GET', obj.url);\r\n      if (obj.headers) {\r\n        Object.keys(obj.headers).forEach((key) => {\r\n          xhr.setRequestHeader(key, obj.headers[key]);\r\n        });\r\n      }\r\n      xhr.onload = () => {\r\n        if (xhr.status >= 200 && xhr.status < 300) {\r\n          resolve(xhr.response);\r\n        } else {\r\n          reject(xhr.statusText);\r\n        }\r\n      };\r\n      xhr.onerror = () => reject(xhr.statusText);\r\n      xhr.send(obj.body);\r\n    });\r\n  };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/http.js","/**\r\n * This class represents the http request call in xhr context\r\n */\r\nexport default class Request {\r\n  constructor() {\r\n    this.url = '';\r\n    this.method = 'GET';\r\n    this.headers = { 'Content-Type': 'application/json' };\r\n    this.body = '';\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/request.js"],"sourceRoot":""}